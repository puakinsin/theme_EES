<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <!-- ========================================== /shop =======================================================-->
        <template id="custom_website_sale_products" inherit_id="website_sale.products">
            <xpath expr="//div[@id='wrap']//div[@class='oe_structure']" position="before">
                <div class="banner">
                    <div class="fixed-image section dark-translucent-bg parallax-bg-shop">
                        <div class="container text-center">
                            <h1 class="font60">Welcome to our Online Shop</h1>
                            <p class="lead">
                                Lorem ipsum dolor sit amet, consectetur elit. Vitae sit excepturi,
                                <br class="hidden-xs hidden-sm"></br>
                                hic officiis illo dolore sunt assumenda saepe id sint praesentium
                                <br class="hidden-xs hidden-sm"></br>
                                natus laborum quas facilis, suscipit aliquam dolorum.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="page-intro">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12">
                                <ol class="breadcrumb">
                                    <li>
                                        <i class="fa fa-home pr-10"></i>
                                        <a href="/">Home</a>
                                    </li>
                                    <li class="active">Shop</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            </xpath>
            <xpath expr="//t[@t-if='not bins']" position="replace">
                <t t-if="not bins">
                    <div class="container">
                        <div class="text-center text-muted">
                            <h1 class="text-center">No
                                <strong>product defined</strong>
                            </h1>
                            <center>
                                <div class="empty-cart">&#9785;</div>
                            </center>
                            <t groups="base.group_website_publisher">
                                <p groups="base.group_sale_manager">Use the
                                    <i>'Content'</i>
                                    top menu to create a new product.
                                </p>
                            </t>
                        </div>
                    </div>
                </t>
            </xpath>
            <xpath expr="//t[@t-call='website_sale.products_item']" position="replace">
                <form action="/shop/cart/update" method="post">
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                    <div itemscope="itemscope" itemtype="http://schema.org/Product">
                        <div class="ribbon-wrapper">
                            <div class="ribbon btn btn-danger">Sale</div>
                        </div>

                        <div class="masonry-grid-item product-item">
                            <div class="listing-item">
                                <div class="overlay-container">
                                    <span itemprop="image" t-field="product.image" t-options='{"widget": "image"}'
                                          t-att-alt="product.name"/>
                                    <a t-att-href="keep('/shop/product/%s' % slug(product), page=(pager['page']['num'] if pager['page']['num']&gt;1 else None))"
                                       class="overlay small">
                                        <i class="fa fa-plus"></i>
                                        <span>
                                            <strong>PRODUCT</strong>
                                            DETAIL
                                        </span>
                                    </a>
                                </div>

                                <div class="listing-item-body">
                                    <h3 class="title">
                                        <a itemprop="name"
                                           t-att-href="keep('/shop/product/%s' % slug(product), page=(pager['page']['num'] if pager['page']['num']&gt;1 else None))"
                                           t-field="product.name"/>
                                    </h3>

                                    <span itemprop="offers" itemscope="itemscope" itemtype="http://schema.org/Offer"
                                          class="product_price" t-if="product.product_variant_ids">
                                        <b class="price">
                                            <t t-if="(compute_currency(product.lst_price) - product.website_price ) &gt; 0.01  and website.get_current_pricelist().discount_policy=='without_discount'">
                                                <del class="text-danger mr8" style="white-space: nowrap;"
                                                     t-esc="compute_currency(product.website_public_price)"
                                                     t-options="{'widget': 'monetary', 'display_currency': website.get_current_pricelist().currency_id, 'from_currency': website.currency_id}"/>
                                            </t>

                                            <span t-esc="product.website_price"
                                                  t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                                            <span itemprop="price" style="display:none;" t-esc="product.website_price"/>
                                            <span itemprop="priceCurrency" style="display:none;"
                                                  t-esc="website.currency_id.name"/>
                                        </b>
                                    </span>

                                    <div class="elements-list pull-right">
                                        <input name="product_id" t-att-value="product.product_variant_id.id"
                                               type="hidden"/>
                                        <t t-if="len(product.product_variant_ids) == 1">
                                            <a class="add_to_cart a-submit">
                                                <i class="fa fa-shopping-cart pr-10"></i>
                                                Add to Cart
                                            </a>
                                        </t>
                                        <t t-if="len(product.product_variant_ids) &gt; 1">
                                            <a class="add_to_cart"
                                               t-att-href="keep('/shop/product/%s' % slug(product), page=(pager['page']['num'] if pager['page']['num']&gt;1 else None))">
                                                <i class="fa fa-shopping-cart pr-10"></i>
                                                Add to Cart
                                            </a>
                                        </t>

                                    </div>
                                </div>

                            </div>
                        </div>
                        <t t-if="show_publish">
                            <div id="website_published_button" class="" groups="sales_team.group_sale_manager">
                                <t t-call="website.publish_management">
                                    <t t-set="object" t-value="product"/>
                                    <t t-set="publish_edit" t-value="True"/>
                                    <t t-set="action" t-value="'product.product_template_action'"/>
                                </t>
                            </div>
                        </t>
                    </div>
                </form>
            </xpath>
        </template>

        <template id="website_sale.custom_categories_recursive">
            <li t-att-class="'active' if c.id == int(category or 0) else ''">
                <a t-att-href="keep('/shop/category/' + slug(c), category=0, brand=brand)">
                    <i t-if="not c.child_id and c.parent_id" class="fa fa-angle-right"></i>
                    <span>
                        <span t-if="c.child_id" class="category-widget-btn"></span>
                        <span t-field="c.name"/>
                    </span>
                </a>
                <ul t-if="c.child_id">
                    <t t-foreach="c.child_id" t-as="c">
                        <t t-call="website_sale.custom_categories_recursive"/>
                    </t>
                </ul>
            </li>

        </template>


        <template id="website_sale.products_attributes" inherit_id="website_sale.products" active="False" priority="2"
                  customize_show="True" name="Product Attribute's Filters">
            <xpath expr="//div[@id='products_grid_before']" position="inside">
                <form class="js_attributes" method="get" id="products_attributes_filters">
                    <input type="hidden" name="search" t-att-value="search"/>
                    <ul class="nav nav-pills nav-stacked mt16">
                        <t t-foreach="attributes" t-as="a">
                            <t t-if="a.type != 'hidden'">
                                <li t-if="a.value_ids and len(a.value_ids) &gt; 1">
                                    <div style="margin-bottom: 13px;margin-top: 13px;">
                                        <strong t-field="a.name"/>
                                    </div>
                                    <t t-if="a.type == 'select'">
                                        <select class="form-control" name="attrib">
                                            <option value=""/>
                                            <t t-foreach="a.value_ids" t-as="v">
                                                <option t-att-value="'%s-%s' % (a.id,v.id)" t-esc="v.name"
                                                        t-att-selected="v.id in attrib_set"/>
                                            </t>
                                        </select>
                                    </t>
                                    <t t-if="a.type == 'radio'">
                                        <ul class="nav nav-pills nav-stacked">
                                            <t t-foreach="a.value_ids" t-as="v">
                                                <li t-att-class="'active' if v.id in attrib_set else None">
                                                    <label>
                                                        <input type="checkbox" name="attrib"
                                                               t-att-value="'%s-%s' % (a.id,v.id)"
                                                               t-att-checked="'checked' if v.id in attrib_set else None"/>
                                                        <span style="font-weight: normal" t-field="v.name"/>
                                                    </label>
                                                </li>
                                            </t>
                                        </ul>
                                    </t>

                                    <t t-if="a.type == 'color'">
                                        <t t-foreach="a.value_ids" t-as="v">
                                            <label t-attf-style="background-color:#{v.html_color or v.name}"
                                                   t-attf-class="css_attribute_color #{'active' if v.id in attrib_set else ''}">
                                                <input type="checkbox"
                                                       name="attrib"
                                                       t-att-value="'%s-%s' % (a.id,v.id)"
                                                       t-att-checked="'checked' if v.id in attrib_set else ''"
                                                       t-att-title="v.name"/>
                                            </label>
                                        </t>
                                    </t>

                                </li>
                            </t>
                        </t>
                    </ul>
                </form>

            </xpath>
            <xpath expr="//div[@id='products_grid_before']" position="attributes">
                <attribute name="class">col-md-3 hidden-xs</attribute>
            </xpath>
            <xpath expr="//div[@id='products_grid']" position="attributes">
                <attribute name="class">col-md-9</attribute>
            </xpath>
        </template>


        <template id="website_sale.products_categories" inherit_id="website_sale.products" active="False"
                  customize_show="True" name="Product Categories" priority="1">
            <xpath expr="//div[@id='products_grid_before']" position="inside">
                <ul id="category-widget">
                    <h2 class="title-products_grid" style="margin: 0px 0 20px 0;">Categories</h2>

                    <li t-att-class=" '' if category else 'active' ">
                        <a t-att-href="keep('/shop',category=0)">All Products</a>
                    </li>
                    <t t-foreach="categories" t-as="c">
                        <t t-call="website_sale.custom_categories_recursive"/>
                    </t>
                </ul>
            </xpath>

            <xpath expr="//div[@class='container oe_website_sale']" position="attributes">
                <attribute name="style">width: 100%;</attribute>
            </xpath>

            <xpath expr="//div[@id='products_grid_before']" position="attributes">
                <attribute name="class">col-md-4</attribute>
            </xpath>

            <xpath expr="//div[@id='products_grid']" position="attributes">
                <attribute name="class">col-md-8</attribute>
            </xpath>
        </template>


        <template id="website_sale.option_collapse_products_categories" name="Collapsible Category List"
                  inherit_id="website_sale.products_categories" active="False" customize_show="False"></template>


        <!-- ==========================================/shop/product product page ===================================-->

        <template id="rating.rating_card" name="Rating Card">
            <div class="o_rating_card">
                <div class="text-center  well-sm">
                    <!-- popover 'button' -->
                    <div class="rating"
                         data-placement="top"
                         data-toggle="rating-popover">
                        <t t-call="rating.rating_star_card">
                            <t t-set="rating_default_value" t-value="'%.2f' % (rating_stat.get('avg', 0.0),)"/>
                            <t t-set="rating_disabled" t-value="True"/>
                        </t>

                    </div>
                    <!-- popover core -->
                    <div class="popover rating_popover" role="tooltip">
                        <div class="arrow"></div>
                        <div class="popover-content">
                            <t t-foreach="rating_stat.get('percent')" t-as="percent">
                                <t t-if="min_rate &lt;= percent and percent &lt;= max_rate">
                                    <div class="progress" style="width:200px;">
                                        <div class="progress-bar" role="progressbar"
                                             aria-valuemin="0"
                                             aria-valuemax="100"
                                             t-att-aria-valuenow="rating_stat['percent'][percent]"
                                             t-attf-style="width: #{rating_stat['percent'][percent]}%">
                                            <span class="sr-only">
                                                <t t-esc="rating_stat['percent'][percent]"/>%
                                            </span>
                                        </div>
                                        <span class="progress_type">
                                            <t t-esc="percent"/>
                                            <i class="fa fa-star"/>
                                        </span>
                                        <span class="progress_completed">
                                            <t t-esc="rating_stat['percent'][percent]"/>%
                                        </span>
                                    </div>
                                </t>
                            </t>
                        </div>
                    </div>
                </div>
            </div>
        </template>

        <template id="custom_website_sale_product" inherit_id="website_sale.product">
            <xpath expr="//section" position="before">
                <div class="page-intro">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12">
                                <ol class="breadcrumb">
                                    <li>
                                        <i class="fa fa-home pr-10"></i>
                                        <a href="/shop">Products</a>
                                    </li>
                                    <li t-if="category">
                                        <a t-att-href="keep('/shop/category/%s' % slug(category), category=0)"
                                           t-field="category.name"/>
                                    </li>
                                    <li class="active">
                                        <span t-field="product.name"/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            </xpath>


            <xpath expr="//section//div[@class='row']//div[@class='col-sm-4']" position="replace">
            </xpath>

            <xpath expr="//section//div[@class='row']//div[@class='col-sm-2 text-right']" position="attributes">
                <attribute name="class">col-sm-12 text-right</attribute>

            </xpath>

            <xpath expr="//section//div[@class='row']//div[@class='col-sm-3 mb8']" position="replace">
            </xpath>

            <xpath expr="//div[@id='website_published_button']" position="attributes">
                <attribute name="class">col-md-12</attribute>
            </xpath>



            <xpath expr="//div[@id='product_details']//form//div[@class='js_product']//p" position="replace">
                <div class="alert alert-danger css_not_available_msg">
                    <i class="fa fa-frown-o"></i>
                    <strong>Product not available</strong>
                </div>
            </xpath>

            <xpath expr="//div[@id='product_details']/hr" position="replace">
            </xpath>


            <xpath expr="//div[@id='product_details']//form//div[@class='js_product']//a[@id='add_to_cart']"
                   position="replace">


                <a id="add_to_cart" class="btn btn-primary btn-lg mt8 js_check_product a-submit" href="#">
                    <i class="fa fa-cart-plus"></i>
                    Add to Cart
                </a>
                <br></br>



            </xpath>



            <xpath expr="//div[@class='col-sm-7']" position="replace">
                <div class="oe_structure">


                    <div class="col-sm-6">
                        <!-- Nav tabs -->
                        <ul class="nav nav-pills white space-top" role="tablist">
                            <li class="active">
                                <a href="#product-images" role="tab" data-toggle="tab" title="images">
                                    <i class="fa fa-camera pr-5"></i>
                                    Photo
                                </a>
                            </li>

                            <li t-if="product.iframe_video">
                                <a href="#product-video" role="tab" data-toggle="tab" title="video">
                                    <i class="fa fa-video-camera pr-5"></i>
                                    Video
                                </a>
                            </li>
                        </ul>
                        <!-- Tab panes start-->
                        <div class="tab-content clear-style">
                            <div class="tab-pane active" id="product-images">
                                <t groups="website_sale.group_website_multi_image">
                                    <t t-set="variant_img" t-value="product.product_variant_ids[0].image_variant"/>
                                    <t t-set="image_ids" t-value="product.product_image_ids"/>

                                    <!--<div id="o-carousel-product" class="carousel slide" data-ride="carousel"
                                         data-interval="0">
                                        <div class="carousel-outer">
                                            <div class="carousel-inner">
                                                <div class="item active" itemprop="image"
                                                     t-field="product.product_variant_ids[0].image"
                                                     t-options='{"widget": "image", "class": "zoom-product product_detail_img js_variant_img", "alt-field": "name", "zoom": "image"}'/>
                                                <div t-if="variant_img" class="item" itemprop="image"
                                                     t-field="product.image"
                                                     t-options='{"widget": "image", "class": "zoom-product product_detail_img", "alt-field": "name", "zoom": "image"}'/>
                                                <t t-if="len(image_ids)" t-foreach="image_ids" t-as="pimg">
                                                    <div class="item" t-field="pimg.image"
                                                         t-options='{"widget": "image", "class": "zoom-product product_detail_img", "alt-field": "name", "zoom": "image" }'/>
                                                </t>
                                            </div>

                                            <t t-if="len(image_ids) or variant_img">
                                                <a class="carousel-control left" href="#o-carousel-product"
                                                   role="button" data-slide="prev">
                                                    <span class="fa fa-chevron-left" aria-hidden="true"/>
                                                    <span class="sr-only">Previous</span>
                                                </a>
                                                <a class="carousel-control right" href="#o-carousel-product"
                                                   role="button" data-slide="next">
                                                    <span class="fa fa-chevron-right" aria-hidden="true"/>
                                                    <span class="sr-only">Next</span>
                                                </a>
                                            </t>
                                        </div>

                                        <ol class="carousel-indicators" t-if="len(image_ids) or variant_img">
                                            <li data-target="#o-carousel-product" data-slide-to="0" class="active" style="border:1px solid #eee!important;width: 90px!important;height: 90px!important;">
                                                <img class="img img-responsive js_variant_img_small"
                                                     t-attf-src="/website/image/product.product/{{product.product_variant_ids[0].id}}/image/90x90"
                                                     t-att-alt="product.name"/>
                                            </li>
                                            <li t-if="variant_img" data-target="#o-carousel-product" data-slide-to="1"
                                                class="" style="border:1px solid #eee!important;width: 90px!important;height: 90px!important;">
                                                <img class="img img-responsive"
                                                     t-attf-src="/website/image/product.template/{{product.id}}/image/90x90"
                                                     t-att-alt="product.name"/>
                                            </li>
                                            <t t-if="len(image_ids)" t-foreach="image_ids" t-as="pimg">
                                                <li data-target="#o-carousel-product"
                                                    t-att-data-slide-to="pimg_index + (variant_img and 2 or 1)" style="border:1px solid #eee!important;width: 90px!important;height: 90px!important;">
                                                    <img class="img img-responsive"
                                                         t-attf-src="/website/image/product.image/{{pimg.id}}/image/90x90"
                                                         t-att-alt="pimg.name"/>
                                                </li>
                                            </t>
                                        </ol>
                                    </div>-->
                                    <div id="o-carousel-product" class="carousel slide" data-ride="carousel" data-interval="0">
                                  <div class="carousel-outer">
                                    <div class="carousel-inner">
                                        <div class="item active" itemprop="image" t-field="product.product_variant_ids[0].image" t-options='{"widget": "image", "class": " product_detail_img js_variant_img", "alt-field": "name", "zoom": "image"}'/>
                                        <div t-if="variant_img" class="item" itemprop="image" t-field="product.image" t-options='{"widget": "image", "class": " product_detail_img", "alt-field": "name", "zoom": "image"}'/>
                                        <t t-if="len(image_ids)" t-foreach="image_ids" t-as="pimg">
                                            <div class="item" t-field="pimg.image" t-options='{"widget": "image", "class": " product_detail_img", "alt-field": "name", "zoom": "image" }'/>
                                        </t>
                                    </div>

                                    <t t-if="len(image_ids) or variant_img">
                                        <a class="carousel-control left" href="#o-carousel-product" role="button" data-slide="prev" >
                                            <span class="fa fa-chevron-left" aria-hidden="true"/>
                                            <span class="sr-only">Previous</span>
                                        </a>
                                        <a class="carousel-control right" href="#o-carousel-product" role="button" data-slide="next">
                                            <span class="fa fa-chevron-right" aria-hidden="true"/>
                                            <span class="sr-only">Next</span>
                                        </a>
                                    </t>
                                  </div>

                                  <ol class="carousel-indicators" t-if="len(image_ids) or variant_img">
                                    <li data-target="#o-carousel-product" data-slide-to="0" class="active" style="border:1px solid #eee!important;width: 90px!important;height: 90px!important;">
                                        <img class="img img-responsive js_variant_img_small" t-attf-src="/website/image/product.product/{{product.product_variant_ids[0].id}}/image/90x90" t-att-alt="product.name"/>
                                    </li>
                                    <li t-if="variant_img" data-target="#o-carousel-product" data-slide-to="1" class="" style="border:1px solid #eee!important;width: 90px!important;height: 90px!important;">
                                        <img class="img img-responsive" t-attf-src="/website/image/product.template/{{product.id}}/image/90x90" t-att-alt="product.name"/>
                                    </li>
                                    <t t-if="len(image_ids)" t-foreach="image_ids" t-as="pimg">
                                        <li data-target="#o-carousel-product" t-att-data-slide-to="pimg_index + (variant_img and 2 or 1)" style="border:1px solid #eee!important;width: 90px!important;height: 90px!important;">
                                            <img class="img img-responsive" t-attf-src="/website/image/product.image/{{pimg.id}}/image/90x90" t-att-alt="pimg.name"/>
                                        </li>
                                    </t>
                                  </ol>
                                </div>

                                </t>

                                <img class="zoom-product"
                                     t-attf-src="/website/image/product.template/#{product.id}/image"
                                     t-attf-data-zoom-image="/website/image/product.template/#{product.id}/image"
                                     groups="!website_sale.group_website_multi_image"/>

                            </div>
                            <div class="tab-pane" id="product-video">
                                <h4>
                                    <t t-esc="product.name_video"/>
                                </h4>
                                <p t-esc="product.description_video"/>
                                <div class="embed-responsive embed-responsive-16by9">
                                    <iframe class="embed-responsive-item" t-attf-src="#{product.iframe_video}"></iframe>
                                </div>

                            </div>
                        </div>



                    </div>


                </div>
            </xpath>
        </template>

        <template id="website_sale.product_comment" inherit_id="website_sale.product" active="False"
                  customize_show="True"
                  name="Discussion and Rating">
            <xpath expr="//div[@id='product_full_description']" position="after">
                <div class="panel-group panel-transparent" id="accordion-3">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#accordion-3" href="#collapseOne-3"
                                   aria-expanded="false" class="collapsed">
                                    <i class="fa fa-comment-o"></i>Reviews
                                </a>
                            </h4>
                        </div>
                        <div id="collapseOne-3" class="panel-collapse collapse" aria-expanded="false"
                             style="height: 0px;">
                            <div class="panel-body">
                                <section class="container">
                                    <div class="row col-md-12">
                                        <div class="text-muted">
                                            <h3 class="fa fa-comment-o">
                                                <a id="comments">
                                                    <t t-if="len(product.website_message_ids) &lt;= 1">
                                                        <t t-esc="len(product.website_message_ids)"/>
                                                        comment
                                                    </t>
                                                    <t t-if="len(product.website_message_ids) > 1">
                                                        <t t-esc="len(product.website_message_ids)"/>
                                                        comments
                                                    </t>
                                                </a>
                                            </h3>
                                        </div>
                                        <t t-call="website_mail.message_thread">
                                            <t t-set="object" t-value="product"/>
                                            <t t-set="chatter_mode" t-value="'json'"/>
                                            <t t-set="rating_enable" t-value="True"/>
                                        </t>
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div>
                </div>

            </xpath>
        </template>

        <template id="website_sale.recommended_products" inherit_id="website_sale.product" customize_show="True"
                  name="Alternative Products">
            <xpath expr="//div[@id='product_full_description']" position="after">
                <div class="container mt32" t-if="product.alternative_product_ids">
                    <h3>Alternative Products</h3>
                    <div class="separator-2"></div>

                    <div class='row mt16' id="shop">
                        <div id="owl-related-products" class="owl-carousel owl-theme">
                            <t t-foreach="product.alternative_product_ids" t-as="product">
                                <div class="masonry-grid-item product-item">
                                    <div class="listing-item">
                                        <div class="overlay-container">
                                            <span itemprop="image" t-field="product.image"
                                                  t-options='{"widget": "image"}'
                                                  t-att-alt="product.name"/>
                                            <a t-attf-href="/shop/product/#{ slug(product) }"
                                               class="overlay small">
                                                <i class="fa fa-plus"></i>
                                                <span>
                                                    <strong>PRODUCT</strong>
                                                    DETAIL
                                                </span>
                                            </a>
                                        </div>

                                        <div class="listing-item-body">
                                            <h3 class="title">
                                                <a itemprop="name"
                                                   t-attf-href="/shop/product/#{ slug(product) }"
                                                   t-field="product.name"/>
                                            </h3>

                                            <span itemprop="offers" itemscope="itemscope"
                                                  itemtype="http://schema.org/Offer"
                                                  class="product_price" t-if="product.product_variant_ids">
                                                <b class="price">
                                                    <t t-if="(compute_currency(product.lst_price) - product.website_price ) &gt; 0.01  and website.get_current_pricelist().discount_policy=='without_discount'">
                                                        <del class="text-danger mr8" style="white-space: nowrap;"
                                                             t-esc="compute_currency(product.website_public_price)"
                                                             t-options="{'widget': 'monetary', 'display_currency': website.get_current_pricelist().currency_id, 'from_currency': website.currency_id}"/>
                                                    </t>

                                                    <span t-esc="product.website_price"
                                                          t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                                                    <span itemprop="price" style="display:none;"
                                                          t-esc="product.website_price"/>
                                                    <span itemprop="priceCurrency" style="display:none;"
                                                          t-esc="website.currency_id.name"/>
                                                </b>
                                            </span>

                                            <div class="elements-list pull-right">



                                                <input name="product_id" t-att-value="product.product_variant_id.id"
                                                       type="hidden"/>
                                                <t t-if="len(product.product_variant_ids) == 1">
                                                    <a class="add_to_cart a-submit">
                                                        <i class="fa fa-shopping-cart pr-10"></i>
                                                        Add to Cart
                                                    </a>
                                                </t>
                                                <t t-if="len(product.product_variant_ids) &gt; 1">
                                                    <a class="add_to_cart"
                                                       t-attf-href="/shop/product/#{ slug(product) }">
                                                        <i class="fa fa-shopping-cart pr-10"></i>
                                                        Add to Cart
                                                    </a>
                                                </t>

                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </t>
                        </div>
                    </div>

                    <div class="row mt16" style="">
                        <t t-foreach="product.alternative_product_ids" t-as="alt_product">
                            <div class="col-md-2 thumbnail"
                                 style="width: 170px; height:130px; float:left; display:inline; margin-right: 10px; overflow:hidden;">
                                <div class="mt16 text-center" style="height: 100%;">
                                    <div t-field="alt_product.image_small"
                                         t-options="{'widget': 'image', 'class': 'img-rounded shadow o_alternative_product' }"/>
                                    <h5>
                                        <a t-attf-href="/shop/product/#{ slug(alt_product) }" style="display: block">
                                            <span t-att-title="alt_product.name" t-field="alt_product.name"
                                                  style="display: block;"/>
                                        </a>
                                    </h5>
                                </div>
                            </div>
                        </t>
                    </div>
                </div>
            </xpath>
        </template>

        <template id="custom_cart" inherit_id="website_sale.cart">
            <xpath expr="//div[@id='wrap']//div" position="before">
                <div class="page-intro">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12">
                                <ol class="breadcrumb">
                                    <li>
                                        <i class="fa fa-home pr-10"></i>
                                        <a href="/shop">Products</a>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            </xpath>

            <xpath expr="//div[@id='wrap']//div/h1[@class='mb32']" position="replace">
            </xpath>

            <xpath expr="//div[@id='wrap']//div[@class='container oe_website_sale']//t[1]" position="before">
                <h1 class="page-title margin-top-clear">Shopping Cart</h1>
            </xpath>

        </template>

        <template id="custom_website_sale_reduction_code" inherit_id="website_sale.reduction_code">
            <xpath expr="//h4[3]" position="replace">

            </xpath>

            <xpath expr="//p" position="replace">

            </xpath>

            <xpath expr="//form" position="replace">
                <div>
                    <span>
                        <h4 class="col-md-7" style="padding: 0;">
                            <strong>Coupon code</strong>
                            <div class="separator-2"></div>
                        </h4>

                        <form t-if="website_sale_order and website_sale_order.website_order_line"
                              action="/shop/pricelist" method="post" class="mb32">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                            <div>
                                <input name="promo" class='form-control' type="text" placeholder="code..."
                                       t-att-value="website_sale_order.pricelist_id.code or None"/>
                                <div class="input-group-btn mt8">
                                    <a class="mt8 btn btn-default a-submit">Apply</a>
                                </div>
                            </div>
                        </form>
                    </span>
                </div>
            </xpath>


        </template>

        <!-- ==========================================    checkout    ==============================================-->

        <template id="custom_website_sale_checkout" inherit_id="website_sale.checkout">
            <xpath expr="//div[@id='wrap']//div/h3" position="replace">
            </xpath>
            <xpath expr="//div[@id='wrap']//div" position="attributes">
                <attribute name="id">shop</attribute>
            </xpath>
            <xpath expr="//div[@id='wrap']//div//div[@class='row']//div[@class='col-lg-offset-1 col-md-3 text-muted']"
                   position="replace">
            </xpath>
            <xpath expr="//div[@id='wrap']//div//div[@class='row']//div[@class='col-md-8 oe_cart']"
                   position="attributes">
                <attribute name="class">col-md-12 oe_cart</attribute>
            </xpath>

            <xpath expr="//div[@id='wrap']//div[@class='container oe_website_sale']/t[1]" position="before">
                <h1 class="page-title margin-top-clear">Checkout</h1>
            </xpath>

        </template>


        <!-- ==========================================    Extra Info  ==============================================-->
        <template id="custom_website_sale_extra_info" inherit_id="website_sale.extra_info">
            <xpath expr="//div[@id='wrap']//div/h1[@class='mb32']" position="replace">
            </xpath>

            <xpath expr="//div[@id='wrap']//div/t" position="replace">
                <div class="row">
                    <t t-call="website_sale.wizard_checkout">
                        <t t-set="step" t-value="30"/>
                    </t>
                </div>
            </xpath>

            <xpath expr="//div[@id='wrap']//div[@class='container oe_website_sale']//t[1]" position="before">
                <h1 class="page-title margin-top-clear">Extra Step</h1>
            </xpath>

        </template>


        <!-- ==========================================    payment  ==============================================-->
        <template id="custom_website_sale_payment" inherit_id="website_sale.payment">
            <xpath expr="//div[@id='wrap']//div/h1[@class='mb32']" position="replace">
            </xpath>

            <!--<xpath expr="//table[@id='cart_products']" position="attributes">-->
            <!--<attribute name="class">table table-striped cart table-hover  js_cart_line</attribute>-->
            <!--</xpath>-->

            <xpath expr="//div[@id='wrap']//div[@class='container oe_website_sale']//t[1]" position="before">
                <h1 class="page-title margin-top-clear">Validate Order</h1>
            </xpath>

            <!--<xpath expr="//div[@id='wrap']//div//div[@class='col-lg-8 col-sm-9 oe_cart']" position="attributes">-->
            <!--<attribute name="class">col-lg-12 col-sm-12 oe_cart</attribute>-->
            <!--</xpath>-->


            <!--<xpath expr="//div[@id='right_column']" position="replace">-->
            <!--</xpath>-->

            <!--<xpath expr="//div[@id='payment_method']" position="attributes">-->
            <!--<attribute name="class">js_payment mb64 row white-row </attribute>-->
            <!--</xpath>-->

            <!--<xpath expr="//div[@id='payment_method']//div[@class='col-lg-5 col-sm-6']" position="attributes">-->
            <!--<attribute name="class">col-lg-6 col-sm-6</attribute>-->
            <!--</xpath>-->

            <!--<xpath expr="//div[@id='payment_method']//div[@class='col-lg-3 col-sm-3']" position="attributes">-->
            <!--<attribute name="class">col-lg-6 col-sm-6</attribute>-->
            <!--</xpath>-->

            <xpath expr="//table//thead//tr//th[2]" position="attributes">
                <attribute name="class">text-center</attribute>
            </xpath>

            <xpath expr="//table//thead//tr//th[3]" position="attributes">
                <attribute name="class">text-center</attribute>
            </xpath>

            <xpath expr="//table//tbody//tr//td[4]" position="attributes">
                <attribute name="class">text-center</attribute>
            </xpath>


        </template>

        <!-- ========================================== confirmation  ==============================================-->
        <template id="custom_website_sale_confirmation" inherit_id="website_sale.confirmation">
            <xpath expr="//div[@id='wrap']//div/h1[@class='mb32']" position="replace">
            </xpath>

            <xpath expr="//div[@id='wrap']//div[@class='container oe_website_sale']//t[1]" position="before">
                <h1 class="page-title margin-top-clear">Shop - Confirmed</h1>
            </xpath>

        </template>


        <!-- =========================================== Address  ==============================================-->
        <template id="custom_website_sale_address" inherit_id="website_sale.address">
            <xpath expr="//div[@id='wrap']//div[@class='container oe_website_sale']//t[1]" position="before">
                <h1 class="page-title margin-top-clear">Address</h1>
            </xpath>
        </template>

        <template id="website_sale.cart_popover" name="Cart Popover">
            <div t-if="not website_sale_order or not website_sale_order.website_order_line" class="well well-lg">
                Your cart is empty!
            </div>
            <t t-if="website_sale_order and website_sale_order.website_order_line">
                <t t-foreach="website_sale_order.website_order_line" t-as="line">
                    <div class="container mb8 cart_line">
                        <div class="col-xs-3">
                            <span t-field="line.product_id.image_medium"
                                  t-options="{'widget': 'image', 'class': 'img-rounded'}"/>
                        </div>
                        <div class="col-xs-9">
                            <a t-attf-href="/shop/product/#{ slug(line.product_id.product_tmpl_id) }">
                                <span t-esc="line.product_id.with_context(display_default_code=False).display_name"
                                      class="h6"/>
                            </a>
                            <br/>
                            <small>Qty:
                                <t t-esc="int(line.product_uom_qty)"/>
                            </small>
                        </div>
                    </div>
                </t>
                <div class="row">
                    <div class="col-md-12">
                        <span class="h5">
                            <t t-call="website_sale.total"/>
                        </span>
                    </div>
                    <div class="col-md-12 text-right">
                        <a class="btn btn-sm btn-primary" href="/shop/cart">
                            View Cart
                        </a>
                    </div>
                </div>
            </t>
        </template>

    </data>
</openerp>
